# README

## Практическое занятие №14

### Тема: Работа с fetch. Отправка сетевых запросов и обработка ответов

Репозитарий содержит материалы по практическому занятию №14, посвященному работе с сетевыми запросами.

### Цели занятия
- закрепление знаний, полученных на лекции;
- разбор практических примеров;
- практическое применение полученных знаний.

### Постановка задачи и описание предметной области
В рамках данного занятия, работаем в предметной области интернет-магазина. Для имитации получения данных с "бэка", используем сервис `https://fakestoreapi.com/`. С этого сервиса мы будем получать данные о наших товарах, категориях товаров, и рендерить это все на странице.

ВАЖНО! Сервис нам возвращает данные в JSON-формате. То есть, нам нужно обрабатывать результаты как JSON (парсить ответ запроса к бэку методом `json()`).

Еще важно! Перед тем как собственно выполнять задачи, рекомендуется скопировать адрес запроса в адресную строку браузера и собственно выполнить запрос, и посмотреть на результат. Чтобы понимать, какая структура будет у ответа.

### Задачи занятия
1. Научиться получать список товаров с бэка. Список товаров запрашиваем по адресу `https://fakestoreapi.com/products`. Результат вывести в консоль.
2. Рендерим результат. При получении ответа от бэка, вызываем функцию `renderProducts`, и передаем туда массив товаров, полученный с бэка.
3. Заполняем фильтр категорий товаров. Нужно получить с бэка список всех возможных категорий, и результат отрендерить в списке.
 - адрес запроса - `https://fakestoreapi.com/products/categories`. В результате придет массив с категориями.
 - в список нам нужно добавлять "детей". Дети - это теги `<option>`, у которых value и текст - это категория товара (из запроса). Пример: для категории товаров "jewelery", мы должны рендерить такое: `<option value="jewelery">Jewelery</option>`. Обратите внимание, что текст - с большой буквы, хотя бэк нам возвращает категорию с маленькой буквы - т.е. для текста надо еще изменить регистр первой буквы категории.
4. "Оживляем" фильтр по категориям товаров. Нужно:
 - добавить обработчик события `change` на выпадающий список с категориями
 - в обработчике, нужно отправлять запрос товаров выбранной категории (чтобы получить выбранную категорию, используем `event.target.value`). Товары берем по адресу `https://fakestoreapi.com/products/category/CATEGORY_NAME`.
5. Задача повышенной сложности. Пишем функцию `makeGetRequest`, которая в параметрах должна принять URL-адрес запроса, выполнить запрос, и вернуть промис, который будет зарезолвлен распарсенным результатом запроса. То есть:
 - выполнить сам запрос
 - преобразовать результат в JSON
 - возвращать промис, который зарезолвится результатом из п.2.
6. Добавляем показ иконки загрузки перед отправкой запроса. Спрятать ее необходимо в любом случае, после отработки запроса (вне зависимости от результатов).
7. Отправляем POST-запрос. Имитировать добавление нового товара по адресу: `https://fakestoreapi.com/products` методом POST. В теле запроса нужно передавать СЕРИАЛИЗОВАННЫЙ объект, который будет содержать:
 - title - название товара
 - price - цена (число)
 - description - описание
 - image - типа ссылка на изображение
 - category - категория (пусть будет jewelery)
В ответ придет объект, который содержит поле id, нужно показать `alert` с текстом "Товар с id="ID" успешно добавлен!".
8. Верстка формы добавления товара.

### Полезные ссылки по занятию:
Спецификация [fetch](https://developer.mozilla.org/en-US/docs/Web/API/fetch) на MDN - англоязычная.
Подробный гайд по [Promise API](https://learn.javascript.ru/promise-basics) - русскоязычный.
Статья с примерами по использованию [Promises](https://www.freecodecamp.org/news/javascript-promise-tutorial-how-to-resolve-or-reject-promises-in-js/) - англоязычная. Включает в чебя также параллельное выполнение (`all`, `race`, `any`, и т.д.)