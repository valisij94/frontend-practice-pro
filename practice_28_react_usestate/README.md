# README

## Практическое занятие №28

### Тема:

Репозитарий содержит материалы по практическому занятию №28, посвященному работе с состоянием компонентов в React.js, и хуку useState. Занятие посвящено работе со сложными объектами в состоянии.

### Цели занятия
- закрепление знаний, полученных на лекции;
- разбор практических примеров;
- практическое применение полученных знаний.

### Задачи занятия
1. Освежаем простой state. В компонент `LoginForm`, нам нужно добавить функциональность для подсчета кликов на кнопку "Войти". То есть, нам нужно добавить в компонент `LoginForm` еще одно состояние (еще раз использовать хук `useState`), и в нем хранить кол-во кликов по кнопке. На саму кнопку нужно добавить обработчик (компонент `Button` имеет проп `clickHandler`, который идеально для этого подойдет).
2. Еще на повторение. Теперь мы хотим вести подсчет количества фокусов на инпутах. То есть, нам нужно, чтобы компонент в своем внутреннем стейте содержал количество фокусов пользователя на инпутах. Нам нужно добавить еще один useState, в котором будем хранить это число. И еще нужно инпутам добавить обработчик события `onFocus`. При этом событии, увеличиваем счетчик.
3. Работаем с объектами - нам нужно объединить наше кол-во кликов по кнопке и кол-во фокусов на инпутах в один объект `formTracker`. То есть теперь вместо двух useState, мы используем один useState, который хранит объект `formTracker`. Нам также надо будет изменить `clickHandler` у кнопки, и `onFocus` у инпутов. ВАЖНО! С учетом того, что мы работаем с ОБЪЕКТОМ в стейте, нам нужно использовать функциональный вариант `setState( old => {...} )`.
4. Усложняем нашу форму - добавляем валидацию. Мы хотим при нажатии на кнопку "Войти" проверить, не пустые ли у нас поля логина и пароля. Если пустые - нам нужно показать пользователю сообщение об ошибке ("Заполните все поля"). Для показа, нам нужно добавить еще один параграф, под кнопкой, в котором мы будем показывать ошибку. Этот параграф должен отображаться только тогда, когда у нас в форме действительно есть ошибка (вспоминаем условный рендеринг).

То есть:
 - нам нужно расширить состояние формы `formState` - добавить в него флаг, который будет индикатором наличия ошибки (`isError`).
 - при клике на кнопку, нам нужно проверить значения `login`, `passwd` в стейте формы. Если хоть одно пустое - нам нужно записать в стейт isError = true
5. Работаем с массивами в стейте. Нам нужно хранить в стейте компонента статистику кликов пользователя по странице, и координаты клика. То есть, нам нужно:
 - использовать хук `useState`, инициализировать его пустым массивом. Пусть эта часть стейта называется `clicksArray`
 - добавить обработчик события `onMouseDown` на наш `div` (контейнер формы)
 - этот обработчик, должен создавать объект, который будет содержать координаты клика (`event.clientX, event.clientY`).
 - этот объект нужно сохранять в `clicksArray`. ВАЖНО! Нам тоже нужно использовать здесь функциональный синтаксис, и возвращать НОВЫЙ массив (т.е. clicksArray.push нам не подойдет!)
6. Задача повышенного уровня сложности. У нас есть компонент `ButtonsBlock`, в котором есть несколько кнопок. Нужно добавить ему внутренний стейт, в котором вести подсчет кол-ва кликов на каждую кнопку. Здесь нам может пригодиться то, что у компонента `Button` есть проп `clickHandler`.

### Полезные ссылки по занятию:
 - Описание [create-react-app](https://create-react-app.dev/).
 - [React State](https://react.dev/learn/state-a-components-memory) - англоязычная подробная документация по `useState`.
 - [React useState](https://dmitripavlutin.com/react-usestate-hook-guide/#1-state-management-using-usestate) - еще англоязычная статья про `useState`. Там более подробно, но и чуть сложнее для понимания.
 - Старая [документация](https://legacy.reactjs.org/docs/components-and-props.html) React. Хоть и помечена как устаревшая, но еще вполне актуальная. Можно просмотреть по диагонали.
