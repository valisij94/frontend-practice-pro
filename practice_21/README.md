# README

## Практическое занятие №21

### Тема:

Репозитарий содержит материалы по практическому занятию №21, посвященному браузерным и интерфейсным событиям.

### Цели занятия
- закрепление знаний, полученных на лекции;
- разбор практических примеров;
- практическое применение полученных знаний.

### Задачи занятия
1. Ставим обработчик на событие загрузки документа (`DOMContentLoaded`). Нужно вывести в консоль текущее время (форматированное по умолчанию). Чтобы получить строку с текущим временем, используем `new Date()`.
2. Пишем функцию `requestProducts`. Она должна запрашивать с бэка (`https://fakestoreapi.com/products`) список товаров, преобразовать результат в JSON, и передать результат в функцию `renderProducts`. То есть, наша задача - получить данные товаров, и отрендерить их.
3. Добавляем вызов `requestProducts` в событие загрузки документа (п.1). То есть, нам нужно загружать наши товары при загрузке документа и готовности DOM.
4. Работаем с текстовым полем `input#testInput`. Наша задача - протоколировать нажатие каждой кнопки (выводить в консоль ее код).
 - нужен обработчик события нажатия кнопки на инпут. Событие - `keypress`
 - в объекте события, есть свойство `charCode` - это код нажатой кнопки. Его нужно вывести в консоль.
5. Пишем свою функцию валидации для инпута, назовем ее `validateInput`. Предположим, мы вводим количество единиц товара, и у нас разрешенные символы - только цифры. Наша задача - запретить ввод в текстовое поле не-цифровых символов.
 - нужен обработчик на `keypress` текстового поля - это будет наша функция `validateInput`
 - при обрабокте события, проверяем `event.charCode`.
 - коды клавиш-цифр - от 48 до 57.
 - здесь нам нужно ПРЕДОТВРАТИТЬ стандартное поведение (т.е. изменение текста инпута). В этом нам поможет `preventDefault`.
6. Усложняем валидацию. Теперь мы хотим проверять правильность ввода при "уходе" фокуса из текстового поля. Что требуется:
 - закомментировать добавление обработчика `keypress` на инпут
 - добавить обработчик события утери фокуса (`focusout`) на наш инпут
 - при обработке события, проверять текст инпута (через `event.target.value`)
 - если текст не является числом (используем метод `isNaN`), то возвращаем фокус в наше текстовое поле (для этого, у DOM-элементов есть метод `focus` - то есть нам нужно вызвать этот метод у инпута).
7. Добавляем визуализации - расширяем обработчик события утери фокуса у инпута. Теперь, если в инпуте не число - то применяем к инпуту класс `error-input`. Если число валидное - то этот класс убираем.
8. Добавляем в DOM чекбокс с текстом "Валидация". Задача чекбокса - включать/выключать валидацию. На событие `change` чекбокса добавляем обработчик. В обработчике, если чекбокс непустой - добавляем обработчик `keypress` на инпут, в качестве функции-обработчика используем `validateInput`. Если пустой - то этот обработчик удаляем.

### Полезные ссылки по занятию:
 - Спецификация MDN по [объекту Event](https://developer.mozilla.org/ru/docs/Web/API/Event/Event)
 - Раздел учебника, посвященный [браузерным событиям](https://learn.javascript.ru/ui) - много чтива, но оно стоит каждой потраченной минуты.