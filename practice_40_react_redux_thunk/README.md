# README

## Практическое занятие №40

### Тема:

Репозитарий содержит материалы по практическому занятию №40, посвященному работе с `Redux thunk` - middleware-библиотекой.

### Цели занятия
- закрепление знаний, полученных на лекции;
- разбор практических примеров;
- практическое применение полученных знаний.

### Задачи занятия
1. Работаем с компонентом `ProductList`. Он сейчас запрашивает список товаров через `useEffect`. Наша задача - сделать так, чтобы товары запрашивались через асинхронный экшн, и хранились бы в редакс-стейте. Для этого, нам понадобится определить новую часть стейта (`proudcts`), это будет объект, у которого есть свойство `isFetching` - то есть идет загрузка, или нет, и свойство `data` - массив с собственно данными товаров. Соответственно, нам нужно определить такие типы экшнов:
 - меняем флаг загрузки
 - начата загрузка
 - загрузка товаров успешно завершена.
2. Пишем actionCreator-ы. Для завершения загрузки все просто, это обычный синхронный экшн, который должен записать в `products.data` результат загрузки данных. А для начала загрузки - это должен быть асинхронный экшн, то есть экшн, который возвращает нам функцию, которая принимает в аргументах `dispatch`.
3. Пишем редьюсер. Нам нужно обрабатывать только экшны смены флага загрузки и успешной загрузки товаров. Асинхронный экшн здесь обрабатывать не надо.
4. Добавляем мидлвар в наш стор.
5. Подписываем компонент `ProductList` на обновления частей редакс-стейта, `products.data`, `products.isFetching`. И используем эти данные для рендеринга компонента.

### Полезные ссылки по занятию:
 - [Redux Thunk](https://redux.js.org/usage/writing-logic-thunks) - официальная документация. В ней очень много отсылок на ReduxToolkit, это можно не смотреть. Там стоит просмотреть раздел "Thunk Use Cases" - то есть варианты использования.
 - [Пример thunk](https://habr.com/ru/articles/483314/) - русскоязычный пример использования thunk "на пальцах". Рекомендуется к просмотру.